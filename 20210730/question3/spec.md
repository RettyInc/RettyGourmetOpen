# 仕様書

## 用語の説明

### 店舗ステータス

店舗の状態。JSONで `status`と言うkeyで与えられた数値。「開店」「閉店」「情報確認中」の3つが存在。
数値は0 ~ 2のパターンが与えられ、それぞれ

- 0 -> 「閉店」
- 1 -> 「開店」
- 2 -> 「情報確認中」

を表現する。

### 開店

お店が営業していること。

### 閉店

お店が営業していないこと。

### 情報確認中

お店の状態の確認がとれていないこと。

### 店舗ID

店舗ごとに割り当てられた固有の数値。JSONで `id`と言うkeyで与えられた数値。

### 店舗名

店舗の名称。JSONで `name`と言うkeyで与えられた文字列。

### 店舗のおすすめ人数

店舗をお勧めしているユーザーさんの人数。JSONで `recommenders_count`と言うkeyで与えられた数値。

### 店舗の代表予算

その店舗で飲食をする際に必要になる代表的な予算。以下のように算出される。  
店舗に「ランチ予算」・「ディナー予算」両方が設定されている場合  
`「店舗の代表予算」 = 「ランチ予算」 * 0.4 + 「ディナー予算」 * 0.6 `  
「ランチ予算」が設定され、「ディナー予算」が設定されていない場合  
`「店舗の代表予算」 = 「ランチ予算」`  
「ディナー予算」が設定され、「ランチ予算」が設定されていない場合  
`「店舗の代表予算」 = 「ディナー予算」`  
「ディナー予算」が設定され、「ランチ予算」が設定されていない場合  
`「店舗の代表予算」 = 「ディナー予算」`  
「ディナー予算」も「ランチ予算」も設定されていない場合  
`「店舗の代表予算」 = 0`

### 最寄り駅からの距離

最寄駅を起点としたお店との距離。単位はm(メートル)。JSONで `distance_from_station`と言うkeyで与えられた数値。

### 現在地からの距離

現在地を起点としたお店との距離。単位はm(メートル)。JSONで `distance`と言うkeyで与えられた数値。

### ランチ予算

ランチ時にかかる大まかな予算。JSONで `lunch_budget`と言うkeyで与えられた文字列。

### ディナー予算

ディナー時にかかる大まかな予算。JSONで `dinner_budget`と言うkeyで与えられた文字列。

### QRコード決済対応

店舗の「決済方法」に「QRコード」が含まれている状態。

### 決済方法

店舗の決済方法。JSONで `payment_methods`と言うkeyで与えられた文字列の配列。

### 現金

「決済方法」の一種。JSON上では `Cash`と言う文字列で表現される。

### クレジットカード

「決済方法」の一種。JSON上では `CredidCard`と言う文字列で表現される。

### QRコード

「決済方法」の一種。JSON上では `QR`と言う文字列で表現される。

### 便利順

ユーザーさんにとって便利だろうと考えられる順番。与えられた店舗のリストに対して以下の方法でスコアを店舗ごとに算出し、その降順で表される

1. 「店舗の代表予算」の安い順に、1番目に3pt, 2番目に2pt, 3番目に1pt与える
2. 「現在地からの距離」の近い順に、1番目に3pt, 2番目に2pt, 3番目に1pt与える
3. 「QRコード決済対応」と判定される店舗に2pt与える
4. 「店舗のおすすめ人数」の多い順に、1番目に3pt, 2番目に2pt, 3番目に1pt与える
5. 「店舗ステータス」が「閉店」の店舗を0ptとする
